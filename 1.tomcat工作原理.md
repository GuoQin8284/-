## 1.tomcat工作原理

##### 目录结构

bin 启动/停止文件

conf：配置文件

lib：运行的相关的库文件

logs：日志文件

tmp：临时文件

webapps：放站点文件

work：编译后产生的class的文件

##### 工作原理

server 相当于tomcat的实例

1.客户端向服务器发请求到连接器（connector）

2.连接器，默认的端口号是8080，连接器一般有2种：http，ajp

3.连接器将请求发送给引擎（engine）

4.将访问的资源解析到我们的虚拟主机host

5.匹配虚拟主机

6.通过context获取请求，并通过mapping table找到对应的servlet

7.封装request和response，并返回

servlet：server applet   是以serlet的编码方式写的一个tomcat的服务器端

## 2.tomcat监控

staus监控步骤：

1.配置用户及角色

配置用户角色的目的是为配置登录监控界面的用户，角色相当于权限

配置文件conf/tomcat-user.xml

配置的用户名可以随便起

角色：admin-gui   manager-gui

```
<user username="test" password="test" roles="admin-gui,manager-gui"/>
```

2.重启服务器

3.进入监控页

```
http://localhost:8080/manager/html
```

